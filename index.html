<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shield-Ï€ | Secure Node Protocol</title>
    <script src="https://sdk.minepi.com/pi-sdk.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root { --pi-purple: #830da7; --pi-gold: #ca8a04; --pi-dark: #070b14; }
        body { background: var(--pi-dark); font-family: 'Orbitron', sans-serif; color: #cbd5e1; overflow-x: hidden; }
        .font-pi-sym { font-family: 'Cinzel', serif; }
        
        /* ESCUDO ESTILO SUIZO REAL (Borde 5px) */
        .swiss-shield {
            width: 160px; height: 190px;
            background: linear-gradient(145deg, #1a1033, #070b14);
            border: 5px solid var(--pi-purple);
            /* Forma herÃ¡ldica suiza compleja */
            clip-path: polygon(0% 15%, 15% 0%, 85% 0%, 100% 15%, 100% 70%, 50% 100%, 0% 70%);
            display: flex; align-items: center; justify-content: center;
            margin: 0 auto;
            box-shadow: 0 0 30px rgba(131, 13, 167, 0.5);
            cursor: pointer; transition: 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .swiss-shield:active { transform: scale(0.92); border-color: var(--pi-gold); }

        .academic-cert {
            background: #fdfdfd; color: #1e1b4b; padding: 25px;
            border: 8px double var(--pi-gold); text-align: center;
            font-family: 'Cinzel', serif; position: relative;
            box-shadow: 0 15px 35px rgba(0,0,0,0.5);
        }
        
        .hidden-screen { display: none; }
        .nav-active { color: var(--pi-purple) !important; border-top: 2px solid var(--pi-purple); }
        .mision-card { background: rgba(131, 13, 167, 0.05); border: 1px solid rgba(131, 13, 167, 0.2); }
    </style>
</head>
<body class="pb-24">

    <div class="p-4 flex justify-end gap-3 text-[10px] font-bold tracking-widest">
        <button onclick="setLang('en')" class="hover:text-purple-500 transition-colors">ENGLISH</button>
        <span class="text-slate-700">|</span>
        <button onclick="setLang('es')" class="hover:text-purple-500 transition-colors">ESPAÃ‘OL</button>
    </div>

    <main id="screen-home" class="screen p-6">
        <header class="text-center mb-8">
            <h1 class="text-3xl font-black text-purple-500 italic uppercase">Shield-<span class="font-pi-sym">Ï€</span></h1>
            <p id="t-subtitle" class="text-[8px] tracking-[4px] text-slate-500 font-bold uppercase">secure blockchain node</p>
        </header>

        <div onclick="startPortAudit()" class="swiss-shield mb-8">
            <span class="text-6xl font-pi-sym text-white italic drop-shadow-xl">Ï€</span>
        </div>

        <div class="space-y-3 mb-6">
            <div id="audit-status" class="bg-black/60 border border-slate-800 rounded-lg p-3 text-center min-h-[40px] flex items-center justify-center">
                <p id="t-standby" class="text-[9px] text-slate-500 uppercase font-bold tracking-[2px]">Status: Standby</p>
            </div>
            <div id="port-grid" class="grid grid-cols-5 gap-1 hidden"></div>
            
            <div class="flex justify-between items-center bg-purple-900/10 p-3 rounded-lg border border-purple-500/20">
                <span id="t-progress" class="text-[9px] font-bold uppercase text-purple-400">Academy Progress</span>
                <span id="progreso-text" class="text-xs font-bold text-white">0%</span>
            </div>
        </div>

        <div class="mb-8">
            <input type="text" id="scam-detector" class="w-full bg-black/40 border border-purple-900/30 rounded-xl py-4 px-5 text-[10px] outline-none focus:border-purple-500 transition-all">
            <p id="scam-result-text" class="text-[9px] mt-2 text-center font-bold uppercase tracking-wider min-h-[15px]"></p>
        </div>

        <div class="bg-gradient-to-r from-purple-900/20 to-transparent border-l-4 border-purple-600 p-5 rounded-r-2xl">
            <h3 id="t-man-title" class="text-[10px] text-purple-400 mb-2 font-bold uppercase italic tracking-wider">Zero Data Manifesto</h3>
            <p id="t-man-text" class="text-[9px] text-slate-400 italic leading-relaxed"></p>
        </div>
    </main>

    <main id="screen-node" class="screen hidden-screen p-6">
        <h2 id="t-node-title" class="text-xl font-bold text-purple-400 mb-6 uppercase italic tracking-tight">Hardware & IA</h2>
        
        <div class="bg-slate-800/40 p-5 rounded-2xl border border-slate-700 mb-6 shadow-inner">
            <h4 id="t-calc-title" class="text-[10px] font-bold text-white mb-4 uppercase tracking-widest text-center">AI Compute Calculator</h4>
            <div class="flex gap-2 mb-4">
                <input type="number" id="cpu-input" placeholder="Cores" class="w-full bg-black/50 border border-slate-600 rounded-lg p-3 text-xs focus:border-purple-500 outline-none">
                <button onclick="runIAAudit()" class="bg-purple-600 px-6 rounded-lg text-[10px] font-bold uppercase tracking-tighter">Scan</button>
            </div>
            <p id="ia-feedback" class="text-[9px] font-bold uppercase text-center min-h-[12px]"></p>
        </div>

        <div id="node-reqs" class="space-y-4"></div>
    </main>

    <main id="screen-misiones" class="screen hidden-screen p-6">
        <h2 id="t-mission-head" class="text-xl font-bold text-purple-400 mb-2 uppercase italic text-center">IA Assistant</h2>
        <p id="t-mission-sub" class="text-[9px] text-center text-slate-500 mb-8 uppercase tracking-widest">Daily Security Quests</p>
        <div id="misiones-list" class="space-y-5"></div>
    </main>

    <main id="screen-premium" class="screen hidden-screen p-6 text-center">
        <div class="academic-cert mb-8">
            <div class="text-5xl text-yellow-600 mb-4 font-pi-sym">Ï€</div>
            <h2 id="t-cert-head" class="text-sm font-bold uppercase border-b-2 border-slate-200 pb-3 mb-4 tracking-widest">University Certificate</h2>
            <p id="t-cert-body" class="text-[11px] italic text-slate-700 leading-relaxed px-2"></p>
            <div class="mt-6 flex justify-between text-[8px] font-bold text-slate-400 uppercase">
                <span>V.1.0-Security</span>
                <span>Verified Pioneer</span>
            </div>
        </div>

        <button onclick="pay(0.3, 'DIPLOMA_UNIV')" class="w-full bg-yellow-600 text-black py-4 rounded-2xl font-black text-xs uppercase mb-8 shadow-xl active:scale-95 transition-transform">0.3 Ï€ - Get Diploma</button>
        
        <div class="bg-slate-800/20 p-6 border border-slate-800 rounded-2xl">
            <p id="t-support" class="text-[10px] italic mb-5 text-slate-500"></p>
            <div class="flex gap-3">
                <button onclick="pay(0.1415, 'DONATION')" class="flex-1 bg-slate-800 py-3 rounded-lg text-[10px] font-bold hover:bg-slate-700 transition-colors">0.1415 Ï€</button>
                <button onclick="pay(3.1415, 'DONATION')" class="flex-1 bg-slate-800 py-3 rounded-lg text-[10px] font-bold hover:bg-slate-700 transition-colors">3.1415 Ï€</button>
            </div>
        </div>
    </main>

    <nav class="fixed bottom-0 w-full bg-slate-900/95 border-t border-purple-900/30 flex justify-around p-5 text-[9px] font-bold backdrop-blur-lg">
        <button onclick="nav('home')" id="nav-home" class="nav-active transition-all">START</button>
        <button onclick="nav('misiones')" id="nav-misiones" class="text-slate-500 transition-all">QUESTS</button>
        <button onclick="nav('node')" id="nav-node" class="text-slate-500 transition-all">NODE</button>
        <button onclick="nav('premium')" id="nav-premium" class="text-slate-500 transition-all">PRO</button>
    </nav>

    <script>
        const Pi = window.Pi; Pi.init({ version: "2.0", sandbox: false });
        let currentLang = 'en';
        let prog = 0;

        const langData = {
            en: {
                subtitle: "secure blockchain node", standby: "Status: Standby", progress: "Academy Progress",
                manTitle: "Zero Data Manifesto", manText: "ShieldPi audits locally. Your seed phrase never leaves your device. 100% on-device security for all Pioneers.",
                scamPlaceholder: "Analyze link or seed phrase...", scamSafe: "âœ“ CONTENT SECURE", scamAlert: "ðŸš¨ ALERT: SEED PHRASE DETECTED!",
                nodeTitle: "Hardware & AI Requirements", calcTitle: "AI Compute Calculator",
                req1: "CPU 4+ Cores: Required for AI compute rental and high-speed consensus.", 
                req2: "SSD Storage: Prevents data bottleneck and keeps the node synced in real-time.",
                req3: "Docker/WSL2: Mandatory virtual infrastructure for the Stellar-Core container.",
                certHead: "University Certificate", certBody: "Certifies that the Pioneer has successfully validated the security, integrity and port connectivity of their local Pi Node.",
                support: "If you like the app, help us maintain the protocol!", navHome: "START", navQuest: "QUESTS", navNode: "NODE", navPro: "PRO",
                nodeApt: "âœ“ APT FOR AI COMPUTE", nodeFail: "âš  INSUFFICIENT POWER", missionHead: "IA Assistant", missionSub: "Daily Security Quests"
            },
            es: {
                subtitle: "secure blockchain node", standby: "Estado: En espera", progress: "Progreso Academia",
                manTitle: "Manifiesto Zero Data", manText: "ShieldPi audita localmente. Tu frase semilla nunca sale del dispositivo. Seguridad 100% local para todos los Pioneers.",
                scamPlaceholder: "Analizar link o frase semilla...", scamSafe: "âœ“ CONTENIDO SEGURO", scamAlert: "ðŸš¨ ALERTA: FRASE SEMILLA DETECTADA!",
                nodeTitle: "Requisitos Hardware e IA", calcTitle: "Calculadora de CÃ³mputo IA",
                req1: "CPU 4+ NÃºcleos: Requerido para alquiler IA y consenso de alta velocidad.",
                req2: "Disco SSD: Evita cuellos de botella y mantiene el nodo sincronizado.",
                req3: "Docker/WSL2: Infraestructura virtual obligatoria para el Stellar-Core.",
                certHead: "Certificado Universitario", certBody: "Certifica que el Pioneer ha validado con Ã©xito la seguridad, integridad y conectividad de puertos de su Nodo local.",
                support: "Â¡Si te gusta la app, ayÃºdanos a mantener el protocolo!", navHome: "INICIO", navQuest: "MISIONES", navNode: "NODO", navPro: "PREMIUM",
                nodeApt: "âœ“ APTO PARA CÃ“MPUTO IA", nodeFail: "âš  POTENCIA INSUFICIENTE", missionHead: "Asistente IA", missionSub: "Misiones Diarias"
            }
        };

        const preguntasPool = [
            { q_en: "Where does ShieldPi process audits?", q_es: "Â¿DÃ³nde procesa ShieldPi las auditorÃ­as?", opts_en: ["Cloud", "Local"], opts_es: ["Nube", "Local"], a: 1 },
            { q_en: "What port range does Pi Node use?", q_es: "Â¿QuÃ© rango de puertos usa Pi Node?", opts_en: ["80-443", "31400-31409"], opts_es: ["80-443", "31400-31409"], a: 1 },
            { q_en: "When will ShieldPi ask for your seed?", q_es: "Â¿CuÃ¡ndo pedirÃ¡ ShieldPi tu frase?", opts_en: ["Never", "To certify"], opts_es: ["Nunca", "Para certificar"], a: 0 }
        ];

        function setLang(l) {
            currentLang = l; const d = langData[l];
            document.getElementById('t-subtitle').innerText = d.subtitle;
            document.getElementById('t-standby').innerText = d.standby;
            document.getElementById('t-progress').innerText = d.progress;
            document.getElementById('t-man-title').innerText = d.manTitle;
            document.getElementById('t-man-text').innerText = d.manText;
            document.getElementById('scam-detector').placeholder = d.scamPlaceholder;
            document.getElementById('t-node-title').innerText = d.nodeTitle;
            document.getElementById('t-calc-title').innerText = d.calcTitle;
            document.getElementById('t-cert-head').innerText = d.certHead;
            document.getElementById('t-cert-body').innerText = d.certBody;
            document.getElementById('t-support').innerText = d.support;
            document.getElementById('t-mission-head').innerText = d.missionHead;
            document.getElementById('t-mission-sub').innerText = d.missionSub;
            document.getElementById('nav-home').innerText = d.navHome;
            document.getElementById('nav-misiones').innerText = d.navQuest;
            document.getElementById('nav-node').innerText = d.navNode;
            document.getElementById('nav-premium').innerText = d.navPro;
            document.getElementById('node-reqs').innerHTML = `<div class="bg-slate-800/40 p-4 rounded-xl border border-slate-700"><p>${d.req1}</p></div><div class="bg-slate-800/40 p-4 rounded-xl border border-slate-700"><p>${d.req2}</p></div><div class="bg-slate-800/40 p-4 rounded-xl border border-slate-700"><p>${d.req3}</p></div>`;
            if(document.getElementById('screen-misiones').classList.contains('hidden-screen') === false) renderMisiones();
        }

        function nav(t) {
            document.querySelectorAll('.screen').forEach(s => s.classList.add('hidden-screen'));
            document.getElementById('screen-' + t).classList.remove('hidden-screen');
            document.querySelectorAll('nav button').forEach(b => b.classList.replace('nav-active', 'text-slate-500'));
            document.getElementById('nav-' + t).classList.replace('text-slate-500', 'nav-active');
            if(t==='misiones') renderMisiones();
        }

        function runIAAudit() {
            const cores = document.getElementById('cpu-input').value;
            const f = document.getElementById('ia-feedback');
            f.innerText = "...";
            setTimeout(() => {
                if(cores >= 4) { f.innerText = langData[currentLang].nodeApt; f.className="text-[9px] mt-3 font-bold text-green-400 text-center uppercase"; }
                else { f.innerText = langData[currentLang].nodeFail; f.className="text-[9px] mt-3 font-bold text-yellow-500 text-center uppercase"; }
            }, 1000);
        }

        function renderMisiones() {
            const container = document.getElementById('misiones-list');
            container.innerHTML = preguntasPool.map((p, i) => `
                <div class="mision-card p-5 rounded-2xl">
                    <p class="text-[11px] font-bold mb-4 uppercase text-purple-300 tracking-tight">${currentLang === 'en' ? p.q_en : p.q_es}</p>
                    <div class="grid grid-cols-1 gap-2">
                        ${(currentLang === 'en' ? p.opts_en : p.opts_es).map((opt, idx) => `
                            <button onclick="checkAns(${i}, ${idx})" class="bg-purple-900/20 border border-purple-500/30 py-3 rounded-xl text-[10px] uppercase font-bold hover:bg-purple-600 transition-all">${opt}</button>
                        `).join('')}
                    </div>
                </div>
            `).join('');
        }

        function checkAns(mIdx, optIdx) {
            if(optIdx === preguntasPool[mIdx].a) {
                prog = Math.min(prog + 34, 100);
                document.getElementById('progreso-text').innerText = prog + "%";
                alert(currentLang === 'en' ? "Correct! Security score increased." : "Â¡Correcto! Nivel de seguridad aumentado.");
            } else {
                alert(currentLang === 'en' ? "Incorrect. Read the Manifesto." : "Incorrecto. Lee el Manifiesto.");
            }
        }

        function startPortAudit() {
            const grid = document.getElementById('port-grid');
            const status = document.getElementById('audit-status');
            grid.classList.remove('hidden'); grid.innerHTML = "";
            status.innerHTML = `<p class="text-[9px] text-purple-400 animate-pulse font-bold uppercase tracking-widest">Auditing Infrastructure...</p>`;
            for(let p=31400; p<=31409; p++) {
                const d = document.createElement('div');
                d.className = "bg-slate-900 border border-slate-800 p-1 text-[7px] rounded text-center";
                d.innerHTML = `${p}<br>...`; grid.appendChild(d);
                setTimeout(() => {
                    const ok = Math.random() > 0.4;
                    d.className = `p-1 border text-[7px] text-center rounded ${ok?'border-green-500 bg-green-900/20':'border-red-900 bg-red-900/40'}`;
                    d.innerHTML = `${p}<br>${ok?'OPEN':'CLOSE'}`;
                    if(p===31409) status.innerHTML = `<p class="text-[9px] font-bold text-green-500 uppercase tracking-widest">NODO CORRIENDO CORRECTAMENTE</p>`;
                }, (p-31399)*150);
            }
        }

        document.getElementById('scam-detector').addEventListener('input', e => {
            const v = e.target.value.trim();
            const t = document.getElementById('scam-result-text');
            const w = v.split(/\s+/).length;
            if(w>=12 && w<=24) { t.innerText = langData[currentLang].scamAlert; t.style.color = "#ef4444"; }
            else if(v.length > 5) { t.innerText = langData[currentLang].scamSafe; t.style.color = "#22c55e"; }
        });

        async function pay(amount, memo) {
            try { await Pi.createPayment({ amount, memo }, { onReadyForServerCompletion: () => alert("Success!") }); }
            catch(e) { alert("Use Pi Browser"); }
        }

        setLang('en');
    </script>
</body>
</html>
